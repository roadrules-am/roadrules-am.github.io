import{p as n,a as x,v as g,w}from"./chunk-PVWAREVJ-DQ4vhhqz.js";import{u as m,g as j}from"./getNextCard-Bz-_PcH0.js";function C({question:r,cardId:s,groupId:l,imageId:e,answers:d,correctId:i,correctStreak:t,forgetProbability:u}){const{setCardFP:o,setCardStreak:c}=m(),a=`${l}-${s}`;function f(p){if(p){const b=t===null?.3:1/(1.05+t),h=t===null?3:t+1;o(a,b),c(a,h)}else o(a,1),c(a,0)}return n.jsxs("div",{className:"w-full max-w-[420px] flex flex-col",children:[n.jsxs("p",{className:"px-2 text-sm my-1",children:["Г",l," В",s,", FP: ",u," CS: ",t]}),e&&n.jsx("img",{src:`/card-img/${e}.png`,alt:"illustration for card",className:"max-h-[220px] my-1 hidden w-full dark:block"}),n.jsx("h2",{className:"px-4 my-2 text-md font-bold",children:r}),n.jsx(k,{answerOptions:d,correctId:i,onAnswer:f},a)]})}function N({onNextCard:r,isVisible:s}){return n.jsx("div",{className:`absolute bottom-0 left-0 w-full px-1 py-2 ${s?"":"hidden"}`,children:n.jsx("button",{className:"px-3 rounded-full flex flex-row h-[48px] w-full justify-center items-center active:bg-blue-600 hover:cursor-pointer bg-blue-400 dark:bg-blue-700",type:"button",onClick:r,children:"Следующий"})})}function k({answerOptions:r,correctId:s,onAnswer:l}){const[e,d]=x.useState(!1),i=g();function t(o){d(!0),l(o)}function u(){i(`/questions/${j()}`),d(!1)}return n.jsxs("div",{className:"w-full flex flex-col gap-2 px-1 my-2",children:[r.map((o,c)=>{const a=s===c;return n.jsx(y,{text:o,isAnswered:e,isCorrect:a,handleAnswer:()=>t(a)},o)}),n.jsx(N,{isVisible:e,onNextCard:u})]})}function y({isCorrect:r,handleAnswer:s,text:l,isAnswered:e}){const[d,i]=x.useState(!1);let t="";e&&r?t="bg-green-100 dark:bg-green-900 border-transparent":e&&d&&!r?t="bg-red-100 dark:bg-red-900 border-transparent":t="dark:border-neutral-800 border-neutral-300",x.useEffect(()=>{e||i(!1)},[e]);function u(){s(),i(!0)}return n.jsx("button",{type:"button",disabled:e,className:`${e?t:"dark:border-neutral-700 border-neutral-400"} text-md flex flex-col  min-h-[48px]  p-3 border-2 rounded-md text-left`,onClick:u,children:l},l)}function $({params:r}){return[{title:`${r.questionId} – roadrules-am`},{name:"description",content:"Welcome to React Router!"}]}const P=w(function({params:s}){const{getCardById:l}=m(),e=l(s.questionId);if(!e)return n.jsx("p",{children:"error"});const{answerOptions:d,cardId:i,correctId:t,correctStreak:u,forgetProbability:o,groupId:c,question:a,imageId:f}=e;return n.jsx(C,{question:a,answers:d,cardId:i,correctId:t,correctStreak:u,forgetProbability:o,groupId:c,imageId:f})});export{P as default,$ as meta};
